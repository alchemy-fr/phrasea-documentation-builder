networks:
    internal:
        driver: bridge
        ipam:
            config:
                - subnet: 174.40.0.0/16

services:
    documentation:
        image: "alchemyfr/phrasea-documentation:latest"
        command: [ "pnpm", "run", "serve" ]
        build:
            context: ./
            dockerfile: ./docusaurus/Dockerfile
        networks:
            - internal
        ports:
            - "3078:3000"

        volumes:
            - ./docusaurus:/srv/workspace/docusaurus
    importer:
        image: "alchemyfr/phrasea-importer:latest"
        build:

            context: ./
            dockerfile: ./importer/Dockerfile
        networks:
            - internal
        volumes:
            - ./importer/:/srv/app
            - ./docusaurus/:/srv/docusaurus
